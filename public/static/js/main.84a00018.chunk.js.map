{"version":3,"sources":["components/DartsScorer/HeaderPlayer.js","components/DartsScorer/StatsBox.js","components/DartsScorer/Header.js","components/DartsScorer/MarkboardRow.js","components/DartsScorer/Markboard.js","components/DartsScorer/CurrentTurn.js","components/DartsScorer/logic.js","components/DartsScorer/index.js","components/SocketProvider/index.js","components/RoomPrompt/index.js","serviceWorker.js","index.js"],"names":["HeaderPlayer","active","score","isWinner","name","setName","classNames","className","type","onChange","e","target","value","role","aria-label","StatsBox","p0","p1","mpr","toFixed","hitRate","Header","state","setNames","complete","winner","side","currentThrow","players","points","names","legs","stats","markDisplay","marks","MarkboardButtons","m0","m1","clickDart","sector","onClick","multiple","display","MarkboardRow","props","activePlayer","Markboard","map","sectorValue","idx","key","DartsScorerBox","dart","undefined","CurrentTurn","currentThrowerName","isComplete","nextLeg","darts","eraseDart","undoTurn","confirmTurn","length","calculatePlayerScore","playerMarks","reduce","mem","Math","max","DartsScorer","React","useState","tx","firstThrow","turns","hits","pastTurns","matchState","_setMatchState","currentTurn","setCurrentTurn","setMatchState","newState","JSON","parse","stringify","sendToMirror","useEffect","keyHandler","event","confirmTurnHandler","preventDefault","eraseDartHandler","window","addEventListener","removeEventListener","slice","turn","miss","match","currentPlayer","opponent","effectiveMarks","min","addTurnStats","every","applyTurn","n1","n2","concat","pop","forEach","undoTurnStats","undoneTurn","filter","SocketProvider","roomCode","socket","setSocket","setState","io","emit","on","data","RoomPrompt","code","_setCode","floor","random","toString","toUpperCase","randomCode","class","text","href","Boolean","location","hostname","pathname","split","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.84a00018.chunk.js","sourcesContent":["import React from \"react\";\n\nconst HeaderPlayer = ({ active, score, isWinner, name, setName }) => {\n  let classNames = \"darts-scorer-player\";\n  if (active) {\n    classNames += \" darts-scorer-player-active\";\n  }\n  if (isWinner) {\n    classNames += \" darts-scorer-player-winner\";\n  }\n\n  return (\n    <div className={classNames}>\n      <input className=\"darts-scorer-player-name\" type=\"text\" onChange={(e) => setName(e.target.value)} value={name} />\n      <div className=\"darts-scorer-player-score\">{score}</div>\n      {active && (\n        <div className=\"darts-scorer-player-active-icon\">\n          <span role=\"img\" aria-label=\"Current thrower\">\n            ðŸŽ¯\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HeaderPlayer;\n","import React from \"react\";\n\nconst StatsBox = ({ p0, p1 }) => {\n  return (\n    <div className=\"darts-scorer-statsbox\">\n      <div className=\"darts-scorer-statsbox-row\">\n        <div className=\"darts-scorer-statsbox-number\">{p0.mpr.toFixed(2)}</div>\n        <div className=\"darts-scorer-statsbox-label\">MPR</div>\n        <div className=\"darts-scorer-statsbox-number\">{p1.mpr.toFixed(2)}</div>\n      </div>\n      <div className=\"darts-scorer-statsbox-row\">\n        <div className=\"darts-scorer-statsbox-number\">{(p0.hitRate * 100).toFixed(2) + \"%\"}</div>\n        <div className=\"darts-scorer-statsbox-label\">Hit %</div>\n        <div className=\"darts-scorer-statsbox-number\">{(p1.hitRate * 100).toFixed(2) + \"%\"}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default StatsBox;\n","import React from \"react\";\nimport HeaderPlayer from \"./HeaderPlayer\";\nimport StatsBox from \"./StatsBox\";\n\nconst Header = ({ state, setNames }) => {\n  return (\n    <div className=\"darts-scorer-header\">\n      <HeaderPlayer\n        isWinner={state.complete && state.winner === 0}\n        side={0}\n        active={state.currentThrow === 0}\n        score={state.players[0].points}\n        name={state.names[0]}\n        setName={(name) => {\n          setNames(name, state.names[1]);\n        }}\n      />\n      <HeaderPlayer\n        isWinner={state.complete && state.winner === 1}\n        side={1}\n        active={state.currentThrow === 1}\n        score={state.players[1].points}\n        name={state.names[1]}\n        setName={(name) => {\n          setNames(state.names[0], name);\n        }}\n      />\n      {state.legs[0] || state.legs[1] ? (\n        <div className=\"darts-scorer-header-legs\">\n          {state.legs[0]} - {state.legs[1]}\n        </div>\n      ) : null}\n      <StatsBox p0={state.stats[0]} p1={state.stats[1]} />\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nconst markDisplay = (marks) => {\n  switch (marks) {\n    case 0:\n      return \"\";\n    case 1:\n      return \"/\";\n    case 2:\n      return \"X\";\n    default:\n      return \"O\";\n  }\n};\n\nconst MarkboardButtons = ({ m0, m1, name, clickDart, sector }) => {\n  if (m0 >= 3 && m1 >= 3) {\n    return <div className=\"darts-scorer-markboard-row-closed\">{name}</div>;\n  }\n\n  return (\n    <div className=\"darts-scorer-markboard-row-open\">\n      <button\n        className=\"darts-scorer-markboard-button darts-scorer-markboard-button-single\"\n        onClick={() => {\n          clickDart({ sector, multiple: 1, display: `${name}` });\n        }}\n      >{`${name}`}</button>\n\n      <button\n        className=\"darts-scorer-markboard-button darts-scorer-markboard-button-double\"\n        onClick={() => {\n          clickDart({ sector, multiple: 2, display: `D${name}` });\n        }}\n      >{`D${name}`}</button>\n\n      {name !== \"B\" && (\n        <button\n          className=\"darts-scorer-markboard-button darts-scorer-markboard-button-triple\"\n          onClick={() => {\n            clickDart({ sector, multiple: 3, display: `T${name}` });\n          }}\n        >{`T${name}`}</button>\n      )}\n    </div>\n  );\n};\n\nconst MarkboardRow = (props) => {\n  const { m0, m1, activePlayer } = props;\n  return (\n    <div className=\"darts-scorer-markboard-row\">\n      <div className={`darts-scorer-markboard-marks ${activePlayer === 0 ? \"darts-scorer-markboard-active\" : \"\"}`}>\n        {markDisplay(m0)}\n      </div>\n      <div className=\"darts-scorer-markboard-row-internal\">\n        <MarkboardButtons {...props} />\n      </div>\n      <div className={`darts-scorer-markboard-marks ${activePlayer === 1 ? \"darts-scorer-markboard-active\" : \"\"}`}>\n        {markDisplay(m1)}\n      </div>\n    </div>\n  );\n};\n\nexport default MarkboardRow;\n","import React from \"react\";\nimport MarkboardRow from \"./MarkboardRow\";\n\nconst Markboard = ({ state, clickDart }) => {\n  return (\n    <div className=\"darts-scorer-markboard\">\n      {[20, 19, 18, 17, 16, 15, \"B\"].map((sectorValue, idx) => {\n        return (\n          <MarkboardRow\n            key={idx}\n            sector={idx}\n            name={sectorValue}\n            m0={state.players[0].marks[idx]}\n            m1={state.players[1].marks[idx]}\n            clickDart={clickDart}\n            activePlayer={state.currentThrow}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Markboard;\n","import React from \"react\";\n\nconst DartsScorerBox = ({ dart }) => {\n  if (dart === undefined) {\n    return <div className=\"darts-scorer-current-turn-box\"></div>;\n  }\n\n  let classNames = \"darts-scorer-current-turn-box \";\n  switch (dart.multiple) {\n    case 1:\n      classNames += \"darts-scorer-current-turn-box-single\";\n      break;\n\n    case 2:\n      classNames += \"darts-scorer-current-turn-box-double\";\n      break;\n\n    default:\n      classNames += \"darts-scorer-current-turn-box-triple\";\n      break;\n  }\n\n  return <div className={classNames}>{dart.display}</div>;\n};\n\nconst CurrentTurn = ({ currentThrowerName, isComplete, nextLeg, darts, eraseDart, undoTurn, confirmTurn }) => {\n  if (isComplete) {\n    return (\n      <div className=\"darts-scorer-current-turn-container\">\n        <button className=\"darts-scorer-current-turn-erase\" onClick={undoTurn}>\n          Undo\n        </button>\n\n        <button className=\"darts-scorer-current-turn-next\" onClick={nextLeg}>\n          Next Leg\n        </button>\n      </div>\n    );\n  }\n  return (\n    <div className=\"darts-scorer-current-turn-container\">\n      {darts.length > 0 && (\n        <button className=\"darts-scorer-current-turn-erase\" onClick={eraseDart}>\n          Erase\n        </button>\n      )}\n      {darts.length === 0 && (\n        <button className=\"darts-scorer-current-turn-erase\" onClick={undoTurn}>\n          Undo\n        </button>\n      )}\n      <div className=\"darts-scorer-current-turn-boxes\">\n        <DartsScorerBox dart={darts[0]} />\n        <DartsScorerBox dart={darts[1]} />\n        <DartsScorerBox dart={darts[2]} />\n      </div>\n      <button className=\"darts-scorer-current-turn-confirm\" onClick={confirmTurn}>\n        Confirm\n        <div className=\"darts-scorer-current-turn-confirm-thrower\">({currentThrowerName})</div>\n      </button>\n    </div>\n  );\n};\n\nexport default CurrentTurn;\n","const newStatePlayer = () => ({\n  points: 0,\n  marks: [0, 0, 0, 0, 0, 0, 0],\n});\n\nconst newStateStats = () => ({\n  turns: 0,\n  hits: 0,\n  marks: 0,\n  mpr: 0,\n  hitRate: 0,\n});\n\nexport const newMatchState = () => ({\n  tx: 0,\n  legs: [0, 0],\n  firstThrow: 0,\n  currentThrow: 0,\n  players: [newStatePlayer(), newStatePlayer()],\n  stats: [newStateStats(), newStateStats()],\n  names: [\"Player 1\", \"Player 2\"],\n  pastTurns: [],\n});\n\nexport const setNames = (match, n1, n2) => {\n  match.names = [n1, n2];\n  match.tx = match.tx + 1;\n  return match;\n};\n\nconst calculatePlayerScore = (playerMarks) => {\n  return [20, 19, 18, 17, 16, 15, 25].reduce((mem, sectorValue, idx) => {\n    return mem + Math.max(0, playerMarks[idx] - 3) * sectorValue;\n  }, 0);\n};\n\nconst isWinner = (currentPlayer, opponent) => {\n  return currentPlayer.points >= opponent.points && currentPlayer.marks.every((sector) => sector >= 3);\n};\n\nconst addTurnStats = (stats, turn) => {\n  const turns = stats.turns + 1;\n  const hits = turn.reduce((mem, dart) => {\n    if (dart.miss || dart.effectiveMarks === 0) {\n      return mem;\n    }\n\n    return mem + 1;\n  }, stats.hits);\n\n  const marks = turn.reduce((mem, dart) => {\n    if (dart.miss) {\n      return mem;\n    }\n\n    return mem + dart.effectiveMarks;\n  }, stats.marks);\n\n  return {\n    turns,\n    hits,\n    marks,\n    mpr: marks / turns,\n    hitRate: hits / (turns * 3),\n  };\n};\n\nconst undoTurnStats = (stats, turn) => {\n  const turns = stats.turns - 1;\n  const hits = turn.reduce((mem, dart) => {\n    if (dart.miss || dart.effectiveMarks === 0) {\n      return mem;\n    }\n\n    return mem - 1;\n  }, stats.hits);\n\n  const marks = turn.reduce((mem, dart) => {\n    if (dart.miss) {\n      return mem;\n    }\n\n    return mem - dart.effectiveMarks;\n  }, stats.marks);\n\n  return {\n    turns,\n    hits,\n    marks,\n    mpr: marks / turns || 0,\n    hitRate: hits / (turns * 3) || 0,\n  };\n};\n\nexport const applyTurn = (match, turn) => {\n  match.tx += 1;\n  const currentPlayer = match.players[match.currentThrow];\n  const opponent = match.players[(match.currentThrow + 1) % 2];\n  turn = turn.map((dart) => {\n    if (dart.miss) {\n      return dart;\n    }\n\n    if (opponent.marks[dart.sector] >= 3) {\n      dart.effectiveMarks = Math.min(3 - currentPlayer.marks[dart.sector], dart.multiple);\n      currentPlayer.marks[dart.sector] = Math.min(3, currentPlayer.marks[dart.sector] + dart.multiple);\n    } else {\n      dart.effectiveMarks = dart.multiple;\n      currentPlayer.marks[dart.sector] = currentPlayer.marks[dart.sector] + dart.multiple;\n    }\n\n    return dart;\n  });\n\n  currentPlayer.points = calculatePlayerScore(currentPlayer.marks);\n\n  match.stats[match.currentThrow] = addTurnStats(match.stats[match.currentThrow], turn);\n  match.pastTurns = [...match.pastTurns, turn];\n\n  if (isWinner(currentPlayer, opponent)) {\n    match.winner = match.currentThrow;\n    match.legs[match.winner] += 1;\n    match.complete = true;\n    return match;\n  }\n\n  match.players[match.currentThrow] = currentPlayer;\n  match.currentThrow = (match.currentThrow + 1) % 2;\n  return match;\n};\n\nexport const nextLegState = (match) => {\n  match.tx += 1;\n  match.players = [newStatePlayer(), newStatePlayer()];\n  match.firstThrow = match.currentThrow = (match.firstThrow + 1) % 2;\n  match.complete = false;\n  match.winner = undefined;\n  match.pastTurns = [];\n  return match;\n};\n\nexport const undoTurn = (match) => {\n  const turn = match.pastTurns.pop();\n  if (!turn) {\n    return { turn: [], state: match };\n  }\n\n  match.tx += 1;\n\n  match.currentThrow = (match.currentThrow + 1) % 2;\n  if (match.complete) {\n    match.currentThrow = (match.currentThrow + 1) % 2;\n    match.complete = false;\n    match.legs[match.winner] -= 1;\n    match.winner = undefined;\n  }\n\n  const currentPlayer = match.players[match.currentThrow];\n\n  turn.forEach((dart) => {\n    if (dart.miss) {\n      return;\n    }\n\n    currentPlayer.marks[dart.sector] = currentPlayer.marks[dart.sector] - dart.effectiveMarks;\n  });\n\n  currentPlayer.points = calculatePlayerScore(currentPlayer.marks);\n  match.stats[match.currentThrow] = undoTurnStats(match.stats[match.currentThrow], turn);\n\n  const undoneTurn = turn\n    .filter((dart) => !dart.miss)\n    .map(({ sector, multiple, display }) => ({ sector, multiple, display }));\n\n  match.players[match.currentThrow] = currentPlayer;\n  return {\n    turn: undoneTurn,\n    state: match,\n  };\n};\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Markboard from \"./Markboard\";\nimport CurrentTurn from \"./CurrentTurn\";\nimport { newMatchState, nextLegState, applyTurn, undoTurn, setNames } from \"./logic\";\n\nimport \"./index.css\";\n\nconst DartsScorer = (props) => {\n  const [matchState, _setMatchState] = React.useState(props.state || newMatchState());\n  const [currentTurn, setCurrentTurn] = React.useState([]);\n\n  const setMatchState = (state) => {\n    const newState = JSON.parse(JSON.stringify(state));\n    _setMatchState(newState);\n    props.sendToMirror(newState);\n  };\n\n  React.useEffect(() => {\n    props.state && _setMatchState(props.state);\n  }, [props]);\n\n  React.useEffect(() => {\n    const keyHandler = (event) => {\n      switch (event.key) {\n        case \"Enter\":\n          confirmTurnHandler();\n          event.preventDefault();\n          break;\n\n        case \"Backspace\":\n          eraseDartHandler();\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener(\"keydown\", keyHandler);\n    return () => {\n      window.removeEventListener(\"keydown\", keyHandler);\n    };\n  }, [matchState, currentTurn]);\n\n  const clickDartHander = (dart) => {\n    if (matchState.complete) {\n      return;\n    }\n    if (currentTurn.length < 3) {\n      setCurrentTurn(currentTurn.concat(dart));\n    }\n  };\n\n  const undoTurnHandler = () => {\n    const { state, turn } = undoTurn(matchState);\n    setMatchState(state);\n    setCurrentTurn(turn);\n  };\n\n  const eraseDartHandler = () => {\n    if (matchState.complete) {\n      return;\n    }\n    setCurrentTurn(currentTurn.slice(0, -1));\n  };\n\n  const confirmTurnHandler = () => {\n    if (matchState.complete) {\n      return;\n    }\n\n    const turn = [{ miss: true }, { miss: true }, { miss: true }].map((miss, idx) => {\n      return currentTurn[idx] || miss;\n    });\n\n    setMatchState(applyTurn(matchState, turn));\n    setCurrentTurn([]);\n  };\n\n  const nextLegHandler = () => {\n    setMatchState(nextLegState(matchState));\n    setCurrentTurn([]);\n  };\n\n  const setNamesHandler = (n1, n2) => {\n    setMatchState(setNames(matchState, n1, n2));\n  };\n\n  return (\n    <div className=\"darts-scorer-container\">\n      <Header state={matchState} setNames={setNamesHandler} />\n      <Markboard state={matchState} clickDart={clickDartHander} />\n      <CurrentTurn\n        currentThrowerName={matchState.names[matchState.currentThrow]}\n        isComplete={matchState.complete}\n        darts={currentTurn}\n        undoTurn={undoTurnHandler}\n        eraseDart={eraseDartHandler}\n        confirmTurn={confirmTurnHandler}\n        nextLeg={nextLegHandler}\n      />\n    </div>\n  );\n};\n\nexport default DartsScorer;\n","import React from \"react\";\nimport io from \"socket.io-client\";\nimport DartsScorer from \"../DartsScorer\";\n\nconst SocketProvider = ({ roomCode }) => {\n  const [socket, setSocket] = React.useState(null);\n  const [state, setState] = React.useState(null);\n\n  React.useEffect(() => {\n    const socket = io();\n    socket.emit(\"join\", roomCode);\n\n    socket.on(\"state\", (data) => {\n      setState(data);\n    });\n\n    setSocket(socket);\n  }, [roomCode]);\n\n  const sendToMirror = (state) => {\n    socket.emit(\"state\", { state, roomCode });\n  };\n\n  return <DartsScorer sendToMirror={sendToMirror} state={state} />;\n};\n\nexport default SocketProvider;\n","import React from \"react\";\nimport \"./index.css\";\n\nconst RoomPrompt = () => {\n  const [code, _setCode] = React.useState(\"\");\n  const [randomCode] = React.useState(\n    Math.floor(Math.random() * 1e12)\n      .toString(16)\n      .toUpperCase()\n  );\n\n  const setCode = (text) => {\n    _setCode(text.toUpperCase());\n  };\n\n  return (\n    <div class=\"prompt-container\">\n      <div className=\"prompt-text\">Room Code:</div>\n      <div className=\"prompt-input-container\">\n        <input className=\"prompt-input\" type=\"text\" value={code} onChange={(e) => setCode(e.target.value)} />\n        {code ? (\n          <a className=\"prompt-input-button\" href={`/room/${code}`}>\n            Join\n          </a>\n        ) : (\n          <div className=\"prompt-input-button prompt-button-inactive\">Join</div>\n        )}\n      </div>\n\n      <div className=\"prompt-random\">\n        I don't have a room code,{\" \"}\n        <a className=\"prompt-random-link\" href={`/room/${randomCode}`}>\n          let me try it with a random one.\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default RoomPrompt;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport SocketProvider from \"./components/SocketProvider\";\nimport RoomPrompt from \"./components/RoomPrompt\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.css\";\n\nconst roomCode = window.location.pathname.split(\"/\")[2];\n\nReactDOM.render(\n  <div className=\"container\">{roomCode ? <SocketProvider roomCode={roomCode} /> : <RoomPrompt />}</div>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}